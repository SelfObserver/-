# 网页静态化技术Freemarker

## 为什么要使用网页静态化技术
应用在新闻网站，门户网站中的新闻频道或者是文章类的频道，文章多，内容信息也多，为了减轻数据库的访问压力，适用于大规模且变化不太频繁的数据。
如果将网页以纯静态化的形式展现，就可使用Nginx这样的高性能的web服务器来部署。Nginx可以承载5万的并发，而Tomcat只有几百

## 什么是Freemarker
Freemarker是一个用java语言编写的模板引擎，基于模板来生成文本输出。与web容器无关。

## 模板文件中的四种元素
1. 文本，直接输出的部分
2. 注释
3. 插值（interpolation）：即${..}部分，将使用数据模型中的部分代替输出
4. FTL指令，和HTML标记类似，名字前加#予以区分，不会输出。

## 生成文件
1. 创建配置类
2. 指定模板所在目录
3. 设置字符集
4. 加载模板文件.ftl
5. 创建数据模型
6. 创建writer对象
7. 调用process方法生成成功

## FTL指令

### assign指令
用于定义一个变量
1. 定义简单类型
2. 定义对象类型

### include指令
用于模板文件的嵌套

### if指令

### list指令
如果想在循环中得到索引，使用循环变量+_index就可以得到

## 内建函数
语法格式： 变量+?+函数名称
例如把数字转换为字符串${num?c}
